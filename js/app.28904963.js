(function(t){function e(e){for(var r,i,c=e[0],o=e[1],u=e[2],l=0,f=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={app:0},s={app:0},a=[];function c(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-04b574b7":"355c512b","chunk-1fb276ea":"62fe887e","chunk-2133afc6":"2c91afb4","chunk-2d6eddf6":"da3e4f81","chunk-4aac499f":"17be4a53","chunk-54139050":"729ee34f","chunk-5bb6af0e":"c2552dae","chunk-5fde434b":"97d088b1","chunk-61595d36":"d002ffe6","chunk-6271a078":"2c993965","chunk-afc07212":"53d5b678","chunk-b22a3356":"e6318625","chunk-ced7aaa8":"57a37488"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-04b574b7":1,"chunk-1fb276ea":1,"chunk-2133afc6":1,"chunk-2d6eddf6":1,"chunk-54139050":1,"chunk-5bb6af0e":1,"chunk-5fde434b":1,"chunk-61595d36":1,"chunk-6271a078":1,"chunk-afc07212":1,"chunk-b22a3356":1,"chunk-ced7aaa8":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-04b574b7":"6ff7a780","chunk-1fb276ea":"0861bcd0","chunk-2133afc6":"fd58c9fe","chunk-2d6eddf6":"8f276e81","chunk-4aac499f":"31d6cfe0","chunk-54139050":"a1b66e2f","chunk-5bb6af0e":"cf25f3ba","chunk-5fde434b":"bbb10a58","chunk-61595d36":"e1c6df0f","chunk-6271a078":"1d0f468b","chunk-afc07212":"f7b0dea4","chunk-b22a3356":"89eb0eab","chunk-ced7aaa8":"bbf8f38b"}[t]+".css",s=o.p+r,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var u=a[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===s))return e()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],l=u.getAttribute("data-href");if(l===r||l===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||s,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete i[t],d.parentNode.removeChild(d),n(a)},d.href=s;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){i[t]=0})));var r=s[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,n){r=s[t]=[e,n]}));e.push(r[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=c(t);var f=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=s[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",f.name="ChunkLoadError",f.type=r,f.request=i,n[1](f)}s[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0de1":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l}));var r=n("f350");function i(t,e){return Object(r["a"])({url:"/login/cellphone",params:{phone:t,password:e}})}function s(t){return Object(r["a"])({url:"/captcha/sent",params:{phone:t}})}function a(t,e){return Object(r["a"])({url:"/captcha/verify",params:{phone:t,captcha:e}})}function c(t,e,n,i){return Object(r["a"])({url:"/register/cellphone",parsam:{captcha:t,phone:e,password:n,nickname:i}})}function o(t){return Object(r["a"])({url:"/cellphone/existence/check",params:{phone:t}})}function u(t){return Object(r["a"])({url:"/user/detail",params:{uid:t}})}function l(){return Object(r["a"])({url:"/logout"})}},2395:function(t,e,n){},2399:function(t,e,n){"use strict";var r=n("fa08"),i=n.n(r);i.a},3028:function(t,e,n){},3121:function(t,e,n){"use strict";var r=n("6eb8"),i=n.n(r);i.a},"3aff":function(t,e,n){},"3c33":function(t,e,n){},"4d09":function(t,e,n){"use strict";var r=n("3028"),i=n.n(r);i.a},5247:function(t,e,n){"use strict";var r=n("f443"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header-nav"),n("router-view"),n("footer-nav"),n("play-bar")],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"header"}},[n("div",{staticClass:"limit flex"},[n("div",{staticClass:"logo flex"},[n("router-link",{staticClass:"link-to",attrs:{to:"/recommend"}},[n("h1")])],1),n("ul",{staticClass:"nav flex"},[n("li",[n("router-link",{attrs:{to:"/recommend",tag:"a"}},[t._v("个人推荐")])],1),n("li",[n("router-link",{attrs:{to:"/singer",tag:"a"}},[t._v("歌手")])],1),n("li",[n("router-link",{attrs:{to:"/songsheet",tag:"a"}},[t._v("歌单")])],1),n("li",[n("router-link",{attrs:{to:"/rank"}},[t._v("排行榜")])],1),n("li",[n("router-link",{attrs:{to:"mv"}},[t._v("MV")])],1)]),n("search",{attrs:{placeholder:"搜索音乐、MV、歌单、用户"}}),n("div",{staticClass:"client"},[t._v("客户端")]),n("div",{staticClass:"login"},[t.state?n("div",{staticClass:"ho"},[n("img",{staticClass:"login-img",attrs:{src:t.user.avatarUrl,alt:""},on:{click:t.profile}}),n("div",{staticClass:"user-info"},[n("div",{staticClass:"signout",on:{click:t.logout}},[n("i",{staticClass:"iconfont icon-tuichu"}),t._v(" 退出登录 ")])])]):n("login")],1)],1)])},c=[],o=n("5530"),u=n("2f62"),l=n("0de1"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"login"}},[r("div",{staticClass:"login"},[r("div",{on:{click:t.haha}},[t._v("登录")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"login-warp"},[r("div",{staticClass:"overlay"},[r("div",{staticClass:"conent"},[t._m(0),r("span",{staticClass:"close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[r("img",{attrs:{src:n("d02c"),alt:""}})]),r("el-form",{ref:"ruleForm",attrs:{model:t.model,rules:t.loginRules}},[r("el-form-item",{attrs:{prop:"phone"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-phone"},model:{value:t.model.phone,callback:function(e){t.$set(t.model,"phone",e)},expression:"model.phone"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.subFrom,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.subFrom(e)}}},[t._v("登录")]),r("el-button",{on:{click:function(e){return e.stopPropagation(),t.linkTo(e)}}},[t._v("注册")])],1)],1)],1)])])])},d=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title"},[r("img",{attrs:{src:n("abfa"),alt:""}})])}],h=n("ade3"),p=Object(h["a"])({data:function(){var t=function(t,e,n){var r=/^(0|86|17951)?(13[0-9]|15[0-9]|17[678]|18[0-9]|14[57])[0-9]{8}$/;r.test(e)||n(new Error("请输入正确的手机号码")),n()};return{isLogin:!1,model:{phone:"",password:""},loginRules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到15 个字符",trigger:"blur"}]}}},computed:{},methods:Object(o["a"])({haha:function(){this.isLogin=!0},close:function(){this.isLogin=!1},subFrom:function(){var t=this;this.$refs.ruleForm.validate((function(e){e&&Object(l["a"])(t.model.phone,t.model.password).then((function(e){if(200!==e.data.code)return t.$message.error("登录手机或密码错误");console.log(e),sessionStorage.setItem("userInfo",JSON.stringify(e.data.profile)),t.getUser(e.data.profile.userId),sessionStorage.setItem("loginState",!0),sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("id",e.data.profile.userId),t.setLoginState(localStorage.getItem("loginState")),t.isLogin=!1,window.location.reload()}))}))},getUser:function(t){var e=this;Object(l["c"])(t).then((function(t){var n=t.data.profile;n.level=t.data.level,n.createDays=t.data.createDays,n.createTime=t.data.createTime,n.listenSongs=t.data.listenSongs,console.log(n),e.userinfo(t.data.profile)}))},linkTo:function(){this.$router.push("/register"),this.isLogin=!1,console.log(this.isLogin)}},Object(u["d"])({userinfo:"SET_USERINFO",setLoginState:"SET_LOGINSTATE"}))},"computed",Object(o["a"])({},Object(u["c"])(["loginState"]))),m=p,v=(n("4d09"),n("2877")),y=Object(v["a"])(m,f,d,!1,null,"9caae684",null),g=y.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search",on:{mouseleave:t.blur}},[n("div",{staticClass:"item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"text",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.query},on:{focus:t.focus,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("span",{staticClass:"icon",on:{click:t.search}})]),n("transition",{attrs:{name:"asd"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"box"},[n("div",{staticClass:"title-history"},[n("div",{staticClass:"title"},[n("i",{staticClass:"history-icon"}),n("span",{staticClass:"history"},[t._v(" 历史搜索")]),n("span",{staticClass:"empty",on:{click:t.clearEmpty}},[t._v("清空")])]),n("div",{staticClass:"tag"},t._l(t.history,(function(e,r){return n("span",{key:r,staticClass:"tag-item",on:{click:function(n){return t.pushKey(e)}}},[t._v(t._s(e)+" "),n("i",{staticClass:"el-icon-close",on:{click:function(n){return t.delItem(e)}}})])})),0)]),n("div",{staticClass:"hot-search"},[n("div",{staticClass:"hot-title"},[n("i",{staticClass:"hot-icon"}),n("span",{staticClass:"hot"},[t._v(" 热门搜索")])]),n("div",{staticClass:"tag"},t._l(t.hotSearch,(function(e,r){return n("span",{key:r,staticClass:"tag-item",on:{click:function(n){return t.hotSearchItem(e.first)}}},[t._v(t._s(e.first))])})),0)])])])],1)},S=[],_=(n("ac1f"),n("841c"),n("498a"),n("74b4")),k={props:["placeholder"],data:function(){return{isshow:!1,query:"",hotSearch:[],history:[]}},computed:Object(o["a"])({},Object(u["c"])(["searchList"])),created:function(){var t=this;Object(_["b"])().then((function(e){t.hotSearch=e.data.result.hots})),this.searchHistory()},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["seaveSearchHistory","deleteSearchItem","clearHistorySearch"])),{},{focus:function(){this.isshow=!0},blur:function(){this.isshow=!1},searchHistory:function(){this.history=JSON.parse(localStorage.getItem("__search__"))||[]},search:function(){var t=this.query.trim();0!==t.length&&(this.seaveSearchHistory(t),"/serach"==this.$router.path?this.$router.push({query:{keywords:t}}):this.$router.push({path:"/serach",query:{keywords:t}}))},delItem:function(t){this.deleteSearchItem(t)},clearEmpty:function(){this.clearHistorySearch(),this.query=""},hotSearchItem:function(t){this.query=t,this.search(),this.isshow=!1},pushKey:function(t){this.query=t,this.search(),this.isshow=!1}})},L=k,O=(n("d7e2"),Object(v["a"])(L,b,S,!1,null,"0fd12ffd",null)),C=O.exports,I={data:function(){return{user:[],state:""}},components:{search:C,login:g},computed:Object(o["a"])({},Object(u["c"])(["loginState","userInfo"])),watch:{},created:function(){this.getData()},methods:{profile:function(){this.$router.push("/profile")},getData:function(){this.$nextTick((function(){this.user=JSON.parse(sessionStorage.getItem("userInfo"))||this.userInfo,this.state=sessionStorage.getItem("loginState")}))},logout:function(){var t=this;Object(l["d"])().then((function(e){t.$router.push("/recommend"),window.location.reload()}))}}},j=I,x=(n("3121"),Object(v["a"])(j,a,c,!1,null,"0304e72c",null)),T=x.exports,w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"footer"}},[n("div",{staticClass:"content"},[n("p",[n("a",{attrs:{href:""}},[t._v("关于那那")]),t._v("| "),n("a",{attrs:{href:""}},[t._v("服务条款")]),t._v("| "),n("a",{attrs:{href:""}},[t._v("用户服务协议")]),t._v("|"),n("a",{attrs:{href:""}},[t._v("权利声明")]),t._v("|"),n("a",{attrs:{href:""}},[t._v("广告服务")]),t._v("|"),n("a",{attrs:{href:""}},[t._v("客服中心")]),t._v("|"),n("a",{attrs:{href:""}},[t._v("网站导航")]),t._v("|")]),n("p",[t._v("Copyright © 1998 - 2020 Tanecnt. All Rights Reserved.")]),n("p",[n("a",{attrs:{href:""}},[t._v("那那公司")]),n("a",{attrs:{href:""}},[t._v("版权所有")]),n("a",{attrs:{href:""}},[t._v("那那网络文化经营许证")])])])])}],P={},$=P,N=(n("5247"),Object(v["a"])($,w,E,!1,null,"33c9c856",null)),M=N.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0!==Object.keys(t.currenSong).length?n("div",{attrs:{id:"play"}},[n("div",{staticClass:"blumimg"},[n("img",{attrs:{src:t.currenSong.songImg,alt:""}})]),n("div",{staticClass:"info"},[n("h3",{staticClass:"singer ellipsis"},[t._v(t._s(t.currenSong.songname))]),n("div",{staticClass:"song-name ellipsis"},[t._v(t._s(t.currenSong.singer))])]),n("div",{staticClass:"icon"},[n("span",{staticClass:"pre iconfont icon-shangyishou",on:{click:t.pre}}),n("span",{staticClass:"play",class:t.playIcon,on:{click:t.changPlayState}}),n("span",{staticClass:"next  iconfont icon-xiayishou",on:{click:t.next}})]),n("div",{staticClass:"progress-wrap"},[n("span",{staticClass:"current-time"},[t._v(t._s(t._f("formatTime")(t.currentTime)))]),n("progress-item",{staticClass:"step",attrs:{pervent:t.pervent},on:{changto:t.clclick}}),n("span",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(t.currenSong.time,"MM:SS")))])],1),n("div",{staticClass:"volume-box"},[n("span",{staticClass:" iconfont volume",class:t.iconVolume,on:{click:t.changVolume}}),n("progress-volume",{ref:"volume",staticClass:"volume-progress",on:{changto:t.toVolume}})],1),n("div",{staticClass:"tool"},[n("span",{staticClass:"iconfont  loop",class:t.iconMode,on:{click:t.changMode}}),n("span",{staticClass:"iconfont icon-ci lyric",on:{click:t.lyricList}}),n("span",{staticClass:"iconfont icon-yinleliebiao   list ",on:{click:t.musicList}})]),n("play-music-list",{directives:[{name:"show",rawName:"v-show",value:t.isMusicList,expression:"isMusicList"}],attrs:{currentId:t.id}}),n("lyric-list",{directives:[{name:"show",rawName:"v-show",value:t.isLyricList,expression:"isLyricList"}],ref:"lyricList",attrs:{currentLyric:t.currentLyric,currentLineNum:t.currentLineNum}}),n("audio",{ref:"audio",attrs:{src:t.musicUrl},on:{canplay:t.ready,error:t.error,timeupdate:t.upDateTime,ended:t.end}})],1):t._e()},q=[],H=(n("c740"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"progress",staticClass:"progress",on:{click:t.topre}},[n("div",{ref:"line",staticClass:"line"},[n("div",{ref:"circle",staticClass:"circle"})])])}),R=[],D=(n("b680"),{props:["pervent"],watch:{pervent:function(t){var e=this.$refs.progress.offsetWidth,n=t*e;this.offset(n)}},methods:{topre:function(t){this.offset(t.offsetX);var e=t.clientX-this.$el.offsetLeft,n=(e/this.$el.offsetWidth).toFixed(2);this.$emit("changto",n)},offset:function(t){this.$refs.line.style.width="".concat(t,"px"),this.$refs.circle.style.transform="translateX(".concat(t,"px)")},setPercent:function(t){var e=t*this.$el.offsetWidth;this.offset(e)}}}),U=D,Y=(n("d97b"),Object(v["a"])(U,H,R,!1,null,"53e65491",null)),F=Y.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fate"}},[n("div",{staticClass:"list"},[n("div",{staticClass:"title"},[n("span",[t._v("播放列表")]),t._v(" "),n("i",{staticClass:"el-icon-delete",on:{click:t.clearHistory}})]),n("div",{staticClass:"play"},t._l(t.historyList,(function(e,r){return n("div",{key:e.id,staticClass:"item",class:t.currentId==e.id&&t.playState?"active":""},[n("div",{staticClass:"num"},[n("span",{staticClass:"inde"},[t._v(t._s(r+1))]),n("i",{staticClass:"pause-btn el-icon-video-pause",on:{click:t.pauseState}}),n("i",{staticClass:"play-btn el-icon-video-play",on:{click:function(n){return t.changePlayState(e,r)}}})]),n("div",{staticClass:"name"},[t._v(t._s(e.songname))]),n("span",{staticClass:"el-icon-close",on:{click:function(n){return t.deleteItem(e)}}})])})),0)])])},J=[],B={computed:Object(o["a"])({},Object(u["c"])(["historyList","playState"])),props:["currentId"],methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])(["deleteHistoryItem","selectPlay","clearHistoryList"])),Object(u["d"])({setPlayState:"SET_PLAYSTATE",setPauseState:"SET_PAUSE_STATE"})),{},{clearHistory:function(){this.clearHistoryList()},deleteItem:function(t){this.deleteHistoryItem(t)},changePlayState:function(t,e){this.selectPlay({list:this.historyList,index:e})},pauseState:function(){this.setPauseState(!1)}})},G=B,X=(n("b820"),Object(v["a"])(G,V,J,!1,null,"a58d778c",null)),W=X.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fate"}},[n("div",{staticClass:"lyric-list"},[n("div",{staticClass:"title"},[t._v("歌词")]),n("scroll",{ref:"scroll",staticClass:"wrap",attrs:{data:t.currentLyric&&t.currentLyric.lines}},[n("div",[t.currentLyric?n("div",{staticClass:"box"},t._l(t.currentLyric.lines,(function(e,r){return n("div",{key:r,ref:"lyric",refInFor:!0,staticClass:"lyric",class:t.currentLineNum===r?"active":""},[t._v(" "+t._s(e.txt)+" ")])})),0):n("div",[t._v("暂无歌词，请您欣赏")])])])],1)])},Q=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper"},[t._t("default")],2)},Z=[],tt=(n("a9e3"),n("f40f")),et={props:{probeType:{type:Number,default:3},data:{type:Array,default:null}},data:function(){return{scroll:null}},mounted:function(){this.scroll=new tt["a"](this.$refs.wrapper,{probeType:this.probeType,click:!0,mouseWheel:!0})},methods:{refresh:function(){this.scroll&&this.scroll.refresh()}},watch:{data:function(){var t=this;setTimeout((function(){t.refresh()}),20)}}},nt=et,rt=Object(v["a"])(nt,z,Z,!1,null,"6a8a17f9",null),it=rt.exports,st={components:{Scroll:it},props:["currentLyric","currentLineNum"]},at=st,ct=(n("2399"),Object(v["a"])(at,K,Q,!1,null,"058ad90e",null)),ot=ct.exports,ut=n("3c75"),lt=n.n(ut),ft=n("6a93"),dt={sequence:0,loop:1,random:2},ht={components:{progressItem:F,playMusicList:W,lyricList:ot,progressVolume:F},computed:Object(o["a"])({pervent:function(){return this.currentTime/Math.round(this.currenSong.time/1e3)},playIcon:function(){return this.playState?"el-icon-video-pause":"el-icon-video-play"},iconMode:function(){return this.mode===dt.sequence?"icon-xunhuan":this.mode===dt.loop?"icon-loop-2":"icon-suiji"},iconVolume:function(){return this.isVolume?"icon-wusheng":" icon-shengyinyinliangxianxing"}},Object(u["c"])(["currenSong","playState","currentPlayIndex","playList","mode","sequencePlayList"])),watch:{currenSong:function(t,e){var n=this;this.id=t.id,Object(ft["d"])(t.id).then((function(e){n.musicUrl=e.data.data[0].url,n.currentLyric&&n.currentLyric.stop(),n.$nextTick((function(){n.$refs.audio.play(),n.$refs.volume.setPercent(n.volume),n.saveHistoryList(t)}))})),this.getLyric(t.id)},playState:function(t){var e=this.$refs.audio;e&&(t?e.play():e.pause())}},data:function(){return{musicUrl:"",currentTime:0,isMusicList:!1,songReady:!1,isLyricList:!1,currentLyric:null,currentLineNum:0,isVolume:!1,volume:.2,id:""}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])(["saveHistoryList"])),Object(u["d"])({setPlayState:"SET_PLAYSTATE",setCueerenIndex:"SET_CURRENTINDEX",setMode:"SET_PLAYMODE",setPlayList:"SET_PLAYLIST"})),{},{clclick:function(t){var e=t*this.$refs.audio.duration;this.$refs.audio.currentTime=e,this.currentLyric&&(console.log(this.currentLyric),this.currentLyric.seek(1e3*e))},toVolume:function(t){this.$refs.audio.volume=t},musicList:function(){this.isMusicList=!this.isMusicList,this.isLyricList=!1},lyricList:function(){this.isLyricList=!this.isLyricList,this.isMusicList=!1},changPlayState:function(){this.songReady&&(this.setPlayState(!this.playState),this.currentLyric&&this.currentLyric.togglePlay())},changVolume:function(){this.isVolume=!this.isVolume,this.isVolume?this.$refs.audio.volume=0:(this.$refs.audio.volume=.2,this.$refs.volume.setPercent(.2))},next:function(){if(this.songReady){var t=this.currentPlayIndex+1;t===this.playList.length&&(t=0),this.setCueerenIndex(t),this.playState||this.changPlayState(),this.songReady=!1}},pre:function(){if(this.songReady){var t=this.currentPlayIndex-1;-1===t&&(t=this.playList.length-1),this.setCueerenIndex(t),this.playState||this.changPlayState(),this.songReady=!1}},changMode:function(){console.log(this.currenSong);var t=(this.mode+1)%3;this.setMode(t);var e=null;e=t===dt.random?this.utils.shuffle(this.sequencePlayList):this.sequencePlayList,this.resetCurrentIndex(e),this.setPlayList(e)},resetCurrentIndex:function(t){var e=this,n=t.findIndex((function(t){return t.id===e.currenSong.id}));this.setCueerenIndex(n)},ready:function(){this.songReady=!0},error:function(){this.songReady=!0},upDateTime:function(t){this.currentTime=t.target.currentTime},end:function(){this.mode===dt.loop?this.loop():this.next()},loop:function(){this.$refs.audio.currentTime=0,this.$refs.audio.play(),this.currentLyric&&this.currentLyric.seek(0)},getLyric:function(t){var e=this;Object(ft["c"])(t).then((function(t){var n=t.data.lrc.lyric;e.currentLyric=new lt.a(n,e.handleLyric),e.playState&&e.currentLyric.play()}))},handleLyric:function(t){var e=t.lineNum;t.txt;if(this.currentLineNum=e,e>7){var n=this.$refs.lyricList.$refs.lyric[e-7];this.$refs.lyricList.$refs.scroll.scroll.scrollToElement(n,1e3)}else this.$refs.lyricList.$refs.scroll.scroll&&this.$refs.lyricList.$refs.scroll.scroll.scrollTo(0,0,1e3)}})},pt=ht,mt=(n("d287"),Object(v["a"])(pt,A,q,!1,null,"5be81bc2",null)),vt=mt.exports,yt={components:{headerNav:T,footerNav:M,playBar:vt}},gt=yt,bt=(n("7c55"),Object(v["a"])(gt,i,s,!1,null,null,null)),St=bt.exports,_t=(n("d3b7"),n("8c4f")),kt=function(){return n.e("chunk-5bb6af0e").then(n.bind(null,"a5a9"))},Lt=function(){return n.e("chunk-61595d36").then(n.bind(null,"72c9"))},Ot=function(){return n.e("chunk-b22a3356").then(n.bind(null,"6f68"))},Ct=function(){return n.e("chunk-afc07212").then(n.bind(null,"893c"))},It=function(){return n.e("chunk-04b574b7").then(n.bind(null,"1ef7"))},jt=function(){return n.e("chunk-2d6eddf6").then(n.bind(null,"d617"))},xt=function(){return n.e("chunk-2133afc6").then(n.bind(null,"1f23"))},Tt=function(){return n.e("chunk-54139050").then(n.bind(null,"18f3"))},wt=function(){return n.e("chunk-6271a078").then(n.bind(null,"2819"))},Et=function(){return n.e("chunk-4aac499f").then(n.bind(null,"85bc"))},Pt=function(){return n.e("chunk-1fb276ea").then(n.bind(null,"dbd0"))},$t=function(){return n.e("chunk-5fde434b").then(n.bind(null,"3ebe"))},Nt=function(){return n.e("chunk-ced7aaa8").then(n.bind(null,"6688"))};r["default"].use(_t["a"]);var Mt=_t["a"].prototype.push;_t["a"].prototype.push=function(t){return Mt.call(this,t).catch((function(t){return t}))};var At=[{path:"/",redirect:"/recommend"},{path:"/recommend",component:Lt},{path:"/register",component:kt},{path:"/playlistdetail",component:Ot},{path:"/profile",component:Ct,meta:{istoken:!0}},{path:"/serach",component:It},{path:"/videoDetail",component:jt},{path:"/singer",component:xt},{path:"/singerdetail",component:Tt},{path:"/songsheet",component:wt},{path:"/video",component:Et},{path:"/mv",component:Pt},{path:"/mvDetail",component:$t},{path:"/rank",component:Nt}],qt=new _t["a"]({routes:At});qt.beforeEach((function(t,e,n){var i=sessionStorage.getItem("token"),s=sessionStorage.getItem("id");i||s||!t.meta.istoken?n():(n("/recommend"),r["default"].prototype.$message.error("请重新登录!"))}));var Ht=qt,Rt=(n("a434"),n("335a")),Dt="__history__",Ut=50,Yt="__search__",Ft=10;function Vt(t,e,n,r){var i=t.findIndex(n);0!==i&&(i>0&&t.splice(i,1),t.unshift(e),r&&t.length>r&&t.pop())}function Jt(t,e){var n=t.findIndex(e);t.splice(n,1)}function Bt(t){var e=Rt["a"].get(Dt,[]);return Vt(e,t,(function(e){return t.id===e.id}),Ut),Rt["a"].set(Dt,e),e}function Gt(){return Rt["a"].remove(Dt),[]}function Xt(t){var e=Rt["a"].get(Dt,[]);return Jt(e,(function(e){return t.id===e.id})),Rt["a"].set(Dt,e),e}function Wt(t){var e=Rt["a"].get(Yt,[]);return Vt(e,t,(function(e){return e===t}),Ft),Rt["a"].set(Yt,e),e}function Kt(){return Rt["a"].remove(Yt),[]}function Qt(t){var e=Rt["a"].get(Yt,[]);return Jt(e,(function(e){return e===t})),Rt["a"].set(Yt,e),e}n("fb6a");var zt={formTime:function(t){var e="",n=6e5,r=60*n,i=24*r,s=30*i,a=(new Date).getTime(),c=a-t;if(!(c<0)){var o=c/s,u=c/(7*i),l=c/i,f=c/r,d=c/n;return e=o>=1?parseInt(o)+"月前":u>=1?parseInt(u)+"周前":l>=1?parseInt(l)+"天前":f>=1?parseInt(f)+"小时前":d>=1?parseInt(d)+"分钟前":"刚刚",e}},shuffle:function(t){for(var e=t.slice(),n=0;n<t.length;n++){var r=this.randomInit(0,n),i=e[n];e[n]=e[r],e[r]=i}return e},randomInit:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},Zt="SET_SINGER",te="SET_PLAYSTATE",ee="SET_PLAYLIST",ne="SET_SEQUENCELIST",re="SET_PLAYMODE",ie="SET_CURRENTINDEX",se="SET_HISTORY_LIST",ae="SET_PAUSE_STATE",ce="SET_SEARCH_LIST",oe="SET_SINGERINFO",ue="SET_LOGINSTATE",le="SET_USERINFO",fe={selectPlay:function(t,e){var n=e.list,r=e.index;if(t.commit(ne,n),t.state.mode===dt.random){var i=zt.shuffle(n);t.commit(ee,i),r=de(i,n[r])}else t.commit(ee,n);t.commit(ie,r),t.commit(te,!0)},playAll:function(t,e){t.commit(ne,e),t.commit(ie,0),t.commit(te,!0),t.commit(ee,e)},saveHistoryList:function(t,e){t.commit(se,Bt(e))},clearHistoryList:function(t){t.commit(se,Gt())},deleteHistoryItem:function(t,e){t.commit(se,Xt(e))},seaveSearchHistory:function(t,e){t.commit(ce,Wt(e))},clearHistorySearch:function(t,e){t.commit(ce,Kt())},deleteSearchItem:function(t,e){t.commit(ce,Qt(e))}};function de(t,e){return t.findIndex((function(t){return t.id===e.id}))}var he,pe={loginState:null,playState:!1,playList:[],sequencePlayList:[],currentPlayIndex:null,mode:dt.sequence,historyList:[],searchList:[],singerInfo:[],userInfo:{}},me=pe,ve={loginState:function(t){return t.loginState||JSON.parse(sessionStorage.getItem("loginState"))},sequencePlayList:function(t){return t.sequencePlayList},playList:function(t){return t.playList},playState:function(t){return t.playState},mode:function(t){return t.mode},currentPlayIndex:function(t){return t.currentPlayIndex},currenSong:function(t){return t.playList[t.currentPlayIndex]||{}},historyList:function(t){return t.historyList},searchList:function(t){return t.searchList},singerInfo:function(t){return t.singerInfo},userInfo:function(t){return t.userInfo||JSON.parse(sessionStorage.getItem("userinfo"))}},ye=(he={},Object(h["a"])(he,ue,(function(t,e){t.loginState=e})),Object(h["a"])(he,Zt,(function(){})),Object(h["a"])(he,te,(function(t,e){t.playState=e})),Object(h["a"])(he,ee,(function(t,e){t.playList=e})),Object(h["a"])(he,ne,(function(t,e){t.sequencePlayList=e})),Object(h["a"])(he,re,(function(t,e){t.mode=e})),Object(h["a"])(he,ie,(function(t,e){t.currentPlayIndex=e})),Object(h["a"])(he,se,(function(t,e){t.historyList=e})),Object(h["a"])(he,ae,(function(t,e){t.playState=e})),Object(h["a"])(he,ce,(function(t,e){t.searchList=e})),Object(h["a"])(he,oe,(function(t,e){t.singerInfo=e})),Object(h["a"])(he,le,(function(t,e){console.log(e),t.userInfo=e})),he);r["default"].use(u["a"]);var ge=new u["a"].Store({state:me,mutations:ye,actions:fe,getters:ve,modules:{}}),be=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Se=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"circle"},[t._v(" LOADING "),n("span")])}],_e={},ke=_e,Le=(n("9d7b"),Object(v["a"])(ke,be,Se,!1,null,"87165e72",null)),Oe=Le.exports,Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading flex-column"},[n("div",{staticClass:"loader"}),""!=t.loadingText?n("span",[t._v(t._s(t.loadingText))]):t._e()])},Ie=[],je={data:function(){return{}},props:{loadingText:{type:String,default:"~努力加载中~"}},components:{},computed:{},watch:{},methods:{},created:function(){},mounted:function(){}},xe=je,Te=(n("57d0"),Object(v["a"])(xe,Ce,Ie,!1,null,"83056384",null)),we=Te.exports,Ee=(n("3aff"),n("0fae"),n("5c96"));r["default"].use(Ee["Input"]),r["default"].use(Ee["Form"]),r["default"].use(Ee["FormItem"]),r["default"].use(Ee["Button"]),r["default"].use(Ee["Carousel"]),r["default"].use(Ee["CarouselItem"]),r["default"].use(Ee["Pagination"]),r["default"].use(Ee["InfiniteScroll"]),r["default"].use(Ee["Loading"]),r["default"].prototype.$message=Ee["Message"];n("99af"),n("4de4"),n("25f0"),n("4d90");function Pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t.toString().length;while(n<e)t="0"+t,n++;return t}r["default"].filter("dateFormat",(function(t,e){var n=new Date(t),r=n.getFullYear(),i=(n.getMonth()+1+"").padStart(2,"0"),s=(n.getDate()+"").padStart(2,"0"),a=(n.getHours()+"").padStart(2,"0"),c=(n.getMinutes()+"").padStart(2,"0"),o=(n.getSeconds()+"").padStart(2,"0");return"YYYY-MM-DD"===e?"".concat(r,"-").concat(i,"-").concat(s):"YYYY-MM-DD HH:MM:SS"===e?"".concat(r,"-").concat(i,"-").concat(s," ").concat(a,":").concat(c,":").concat(o):"MM:SS"===e?"".concat(c,":").concat(o):void 0})),r["default"].filter("formatTime",(function(t){t|=0;var e=Pe(t/60|0),n=Pe(t%60);return"".concat(e,":").concat(n)})),r["default"].config.productionTip=!1,r["default"].prototype.utils=zt,r["default"].component("loading",Oe),r["default"].component("textLoading",we),new r["default"]({router:Ht,store:ge,render:function(t){return t(St)}}).$mount("#app")},"57d0":function(t,e,n){"use strict";var r=n("3c33"),i=n.n(r);i.a},"6a93":function(t,e,n){"use strict";n.d(e,"h",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"i",(function(){return h}));n("4160"),n("a15b"),n("b0c0"),n("159b");var r=n("d4ec"),i=n("f350");function s(t,e){return Object(i["a"])({url:"/playlist/detail",params:{id:t,s:e}})}function a(t){return Object(i["a"])({url:"/song/detail",params:{ids:t}})}function c(t){return Object(i["a"])({url:"/playlist/subscribers",params:{id:t}})}function o(t,e){return Object(i["a"])({url:"/related/playlist",params:{id:t,limit:e}})}function u(t,e,n){return Object(i["a"])({url:"/comment/playlist",params:{id:t,limit:e,offset:n}})}function l(t){return Object(i["a"])({url:"/song/url",params:{id:t}})}function f(t){return Object(i["a"])({url:"/lyric",params:{id:t}})}var d=function t(e){Object(r["a"])(this,t),this.id=e.id||e.copyrightId,this.time=e.dt||e.duration,this.songname=e.name,this.singer=p(e.ar||e.artists),this.songImg=e.al?e.al.picUrl:e.album.artist.img1v1Url,this.blum=e.al?e.al.name:album.artist.name},h=function t(e){Object(r["a"])(this,t),this.id=e.vid||e.id,this.img=e.coverUrl||e.imgurl||e.cover,this.title=e.title||e.name,this.count=e.playTime||e.playCount,this.time=e.durationms||e.duration,this.creator=p(e.creator)||e.artistName};function p(t){var e=[];return t?(t.forEach((function(t){e.push(t.userName||t.name)})),e.join("/")):""}},"6eb8":function(t,e,n){},"70bc":function(t,e,n){},"74b4":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a}));var r=n("f350");function i(){return Object(r["a"])({url:"/search/hot"})}function s(t,e,n,i){return Object(r["a"])({url:"/search",params:{keywords:t,limit:e,offset:n,type:i}})}function a(t,e,n,i){return Object(r["a"])({url:"/search/suggest",params:{keywords:t,limit:e,offset:n,type:i}})}},"7c55":function(t,e,n){"use strict";var r=n("2395"),i=n.n(r);i.a},"85ae":function(t,e,n){},"9d7b":function(t,e,n){"use strict";var r=n("70bc"),i=n.n(r);i.a},abfa:function(t,e,n){t.exports=n.p+"img/title.9e09785e.jpg"},b820:function(t,e,n){"use strict";var r=n("85ae"),i=n.n(r);i.a},ba02:function(t,e,n){},bcc9:function(t,e,n){},d02c:function(t,e,n){t.exports=n.p+"img/close.95dce33b.svg"},d287:function(t,e,n){"use strict";var r=n("bcc9"),i=n.n(r);i.a},d7e2:function(t,e,n){"use strict";var r=n("f2f1"),i=n.n(r);i.a},d97b:function(t,e,n){"use strict";var r=n("ba02"),i=n.n(r);i.a},f2f1:function(t,e,n){},f350:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("bc3a"),i=n.n(r);function s(t){var e=i.a.create({baseURL:"https://api.mtnhao.com/",timeout:5e3});return e.interceptors.request.use((function(t){return t}),(function(t){console.log(t)})),e.interceptors.response.use((function(t){return t}),(function(t){console.log(t)})),e(t)}},f443:function(t,e,n){},fa08:function(t,e,n){}});
//# sourceMappingURL=app.28904963.js.map