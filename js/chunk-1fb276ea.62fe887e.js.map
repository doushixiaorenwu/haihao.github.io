{"version":3,"sources":["webpack:///./src/components/common/videos/video.vue?39be","webpack:///./src/network/mv.js","webpack:///./src/components/common/videos/video.vue?c2e9","webpack:///src/components/common/videos/video.vue","webpack:///./src/components/common/videos/video.vue?9b4e","webpack:///./src/components/common/videos/video.vue?9a79","webpack:///./src/views/mv/mv.vue?e381","webpack:///./src/components/common/loadMore/loadMore.vue?e148","webpack:///src/components/common/loadMore/loadMore.vue","webpack:///./src/components/common/loadMore/loadMore.vue?c852","webpack:///./src/components/common/loadMore/loadMore.vue","webpack:///./src/views/mv/mv.vue?156d","webpack:///src/views/mv/mv.vue","webpack:///./src/views/mv/mv.vue?e1b0","webpack:///./src/views/mv/mv.vue?80bc"],"names":["allMv","params","axios","url","area","type","order","limit","offset","mvDetail","mvid","mvUrl","id","mvInfo","simiMv","commentMv","sendComment","t","content","commentId","render","_vm","this","_h","$createElement","_c","_self","attrs","videos","length","staticClass","_l","item","key","on","$event","pushDetail","img","_v","_s","count","_f","time","title","creator","_e","staticRenderFns","props","created","console","log","methods","$router","push","path","query","component","_t","data","getScrollTop","scrollTop","document","documentElement","body","getClientHeight","clientHeight","Math","min","max","getScrollHeight","mounted","self","window","onscroll","$emit","destroyed","label","class","active","shooseType","classify","sort","value","load","mvlist","loadStatus","directives","name","rawName","expression","components","isLoading","areaList","classifys","sortList","total","currentPage","res","hasMore","val","filer","forEach","arr","setTimeout"],"mappings":"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","file":"js/chunk-1fb276ea.62fe887e.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=style&index=0&id=5d79b34e&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=style&index=0&id=5d79b34e&scoped=true&lang=less&\"","import { axios } from './axios'\r\n// 全部mv\r\nexport function allMv(params) {\r\n  return axios({\r\n    url: '/mv/all',\r\n    params: {\r\n      area: params.area,\r\n      type: params.type,\r\n      order: params.order,\r\n      limit: params.limit,\r\n      offset: params.offset\r\n    }\r\n  })\r\n}\r\n// mv详情\r\nexport function mvDetail(mvid) {\r\n  return axios({\r\n    url: '/mv/detail',\r\n    params: { mvid }\r\n  })\r\n}\r\n// 播放地址\r\nexport function mvUrl(id) {\r\n  return axios({\r\n    url: '/mv/url',\r\n    params: { id }\r\n  })\r\n}\r\nexport function mvInfo(mvid) {\r\n  return axios({\r\n    url: '/mv/detail/info',\r\n    params: {\r\n      mvid\r\n    }\r\n  })\r\n}\r\n// 相似MV\r\nexport function simiMv(mvid) {\r\n  return axios({\r\n    url: '/simi/mv',\r\n    params: {\r\n      mvid\r\n    }\r\n  })\r\n}\r\n\r\n// MV评论\r\nexport function commentMv(id,limit,offset) {\r\n  return axios({\r\n    url: '/comment/mv',\r\n    params: {\r\n      id,\r\n      limit,\r\n      offset\r\n     \r\n    }\r\n  })\r\n}\r\nexport function sendComment(params){\r\n  return axios({\r\n    url: '/comment',\r\n    params: {\r\n      t: params.t,\r\n      type: params.type,\r\n      id: params.id,\r\n      content: params.content,\r\n      commentId: params.commentId\r\n    }\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"video\"}},[(_vm.videos.length > 0)?_c('ul',{staticClass:\"box\"},_vm._l((_vm.videos),function(item){return _c('li',{key:item.id,staticClass:\"item\",on:{\"click\":function($event){return _vm.pushDetail(item.id)}}},[_c('div',{staticClass:\"header\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":item.img,\"alt\":\"\"}}),_c('i',{staticClass:\"icon el-icon-video-camera\"},[_c('span',[_vm._v(_vm._s(item.count))])]),_c('div',{staticClass:\"time\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(item.time,'MM:SS')))])]),_c('i',{staticClass:\"contentIcon el-icon-video-camera\"})]),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"title ellipsis\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"creator\"},[_vm._v(_vm._s(item.creator))])])])}),0):_vm._e(),(_vm.loadStatus)?_c('div',{staticClass:\"load-bottom\"},[_c('text-loading')],1):_c('div',[_vm._v(\"哎呀，还没写呢\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"video\">\r\n    <!-- <div  v-if=\"videos.length>0\"> -->\r\n    <ul class=\"box\" v-if=\"videos.length > 0\">\r\n      <li class=\"item\" v-for=\"item in videos\" :key=\"item.id\" @click=\"pushDetail(item.id)\">\r\n        <div class=\"header\">\r\n          <img class=\"img\" :src=\"item.img\" alt=\"\" />\r\n          <i class=\"icon el-icon-video-camera\">\r\n            <span>{{ item.count }}</span></i\r\n          >\r\n          <div class=\"time\">\r\n            <span>{{ item.time | dateFormat('MM:SS') }}</span>\r\n          </div>\r\n          <i class=\"contentIcon el-icon-video-camera\"></i>\r\n        </div>\r\n        <div class=\"box\">\r\n          <div class=\"title ellipsis\">{{ item.title }}</div>\r\n          <div class=\"creator\">{{ item.creator }}</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n\r\n    <div v-if=\"loadStatus\" class=\"load-bottom\">\r\n      <text-loading />\r\n    </div>\r\n\r\n    <div v-else>哎呀，还没写呢</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['videos', 'loadStatus'],\r\n  created() {\r\n    console.log(this.videos)\r\n  },\r\n  methods: {\r\n    pushDetail(id) {\r\n      console.log()\r\n      if (typeof id == 'number' || id.length < 10) {\r\n        this.$router.push({\r\n          path: '/mvDetail',\r\n          query: {\r\n            id\r\n          }\r\n        })\r\n      } else {\r\n        this.$router.push({\r\n          path: '/videoDetail',\r\n          query: {\r\n            id\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n#video {\r\n \r\n  margin: 0 -10px;\r\n  margin-top: 20px;\r\n.box{\r\n   display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n  .item {\r\n    width: 25%;\r\n    padding: 0 10px 20px;\r\n    .header:hover {\r\n      .contentIcon {\r\n        display: block;\r\n      }\r\n    }\r\n    .header {\r\n      position: relative;\r\n      color: #fff;\r\n      font-size: 14px;\r\n      .img {\r\n        width: 100%;\r\n      }\r\n      .icon {\r\n        height: 20px;\r\n        width: 25%;\r\n        line-height: 20px;\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n\r\n        background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4));\r\n        font-size: 14px;\r\n        span {\r\n          font-size: 12px;\r\n          float: right;\r\n          margin-right: 8px;\r\n        }\r\n      }\r\n      .time {\r\n        height: 20px;\r\n        width: 100%;\r\n        line-height: 20px;\r\n        position: absolute;\r\n        bottom: 4px;\r\n        right: 0;\r\n        background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4));\r\n\r\n        span {\r\n          float: right;\r\n          margin-right: 8px;\r\n        }\r\n      }\r\n      .contentIcon {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        font-size: 30px;\r\n        color: #ec0801;\r\n        transform: translate(-50%, -50%);\r\n        display: none;\r\n      }\r\n    }\r\n    .box {\r\n      .title {\r\n        margin-top: 5px;\r\n        font-size: 14px;\r\n        font-weight: 700;\r\n      }\r\n      .creator {\r\n        font-size: 10px;\r\n        margin-top: 10px;\r\n        font-weight: 600;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./video.vue?vue&type=template&id=5d79b34e&scoped=true&\"\nimport script from \"./video.vue?vue&type=script&lang=js&\"\nexport * from \"./video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./video.vue?vue&type=style&index=0&id=5d79b34e&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d79b34e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mv.vue?vue&type=style&index=0&id=0bdfce52&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mv.vue?vue&type=style&index=0&id=0bdfce52&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"load-more\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"load-more\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {\r\n    //获取滚动条当前的位置\r\n    getScrollTop() {\r\n      var scrollTop = 0\r\n      if (document.documentElement && document.documentElement.scrollTop) {\r\n        scrollTop = document.documentElement.scrollTop\r\n      } else if (document.body) {\r\n        scrollTop = document.body.scrollTop\r\n      }\r\n      return scrollTop\r\n    },\r\n    //获取当前可视范围的高度\r\n    getClientHeight() {\r\n      var clientHeight = 0\r\n      if (document.body.clientHeight && document.documentElement.clientHeight) {\r\n        clientHeight = Math.min(\r\n          document.body.clientHeight,\r\n          document.documentElement.clientHeight\r\n        )\r\n      } else {\r\n        clientHeight = Math.max(\r\n          document.body.clientHeight,\r\n          document.documentElement.clientHeight\r\n        )\r\n      }\r\n      return clientHeight\r\n    },\r\n\r\n    //获取文档完整的高度\r\n    getScrollHeight() {\r\n      return Math.max(\r\n        document.body.scrollHeight,\r\n        document.documentElement.scrollHeight\r\n      )\r\n    }\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    //滚动事件触发\r\n    var self = this\r\n    window.onscroll = function() {\r\n      if (\r\n        self.getScrollTop() + self.getClientHeight() >=\r\n        self.getScrollHeight()\r\n      ) {\r\n        self.$emit('scroll-state', true)\r\n      }\r\n    }\r\n  },\r\n  destroyed() {\r\n    // window.onscroll = null;\r\n  }\r\n}\r\n</script>\r\n\r\n<style ></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadMore.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadMore.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loadMore.vue?vue&type=template&id=299775ce&\"\nimport script from \"./loadMore.vue?vue&type=script&lang=js&\"\nexport * from \"./loadMore.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mv\"},[_c('div',{staticClass:\"header\"},[_c('ul',{staticClass:\"area\"},_vm._l((_vm.areaList),function(item){return _c('li',{key:item.label,class:{ active: _vm.area == item.label },on:{\"click\":function($event){return _vm.shooseType('area', item.label)}}},[_vm._v(_vm._s(item.label))])}),0),_c('ul',{staticClass:\"classify\"},_vm._l((_vm.classifys),function(item){return _c('li',{key:item.label,class:{ active: _vm.classify == item.label },on:{\"click\":function($event){return _vm.shooseType('classify', item.label)}}},[_vm._v(_vm._s(item.label))])}),0),_c('ul',{staticClass:\"sort\"},_vm._l((_vm.sortList),function(item){return _c('li',{key:item.label,class:{ active: _vm.sort == item.value },on:{\"click\":function($event){return _vm.shooseType('sort', item.value)}}},[_vm._v(_vm._s(item.label))])}),0)]),_c('load-more',{on:{\"scroll-state\":_vm.load}},[_c('mv-list',{attrs:{\"videos\":_vm.mvlist,\"loadStatus\":_vm.loadStatus}})],1),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mv\">\r\n    <div class=\"header\">\r\n      <ul class=\"area\">\r\n        <li v-for=\"item in areaList\" :key=\"item.label\" :class=\"{ active: area == item.label }\" @click=\"shooseType('area', item.label)\">{{ item.label }}</li>\r\n      </ul>\r\n      <ul class=\"classify\">\r\n        <li v-for=\"item in classifys\" :key=\"item.label\" :class=\"{ active: classify == item.label }\" @click=\"shooseType('classify', item.label)\">{{ item.label }}</li>\r\n      </ul>\r\n      <ul class=\"sort\">\r\n        <li v-for=\"item in sortList\" :key=\"item.label\" :class=\"{ active: sort == item.value }\" @click=\"shooseType('sort', item.value)\">{{ item.label }}</li>\r\n      </ul>\r\n    </div>\r\n    <load-more @scroll-state=\"load\">\r\n      <mv-list :videos=\"mvlist\" :loadStatus=\"loadStatus\"></mv-list>\r\n    </load-more>\r\n    <loading v-show=\"isLoading\"></loading>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { allMv, mvDetail, mvUrl } from '@/network/mv'\r\nimport { videoInfo } from '@/network/detail'\r\nimport MvList from '@/components/common/videos/video'\r\nimport loadMore from '@/components/common/loadMore/loadMore'\r\nexport default {\r\n  components: { MvList, loadMore },\r\n  data() {\r\n    return {\r\n      area: '全部',\r\n      loadStatus: false,\r\n      isLoading:true,\r\n      areaList: [\r\n        {\r\n          label: '全部'\r\n        },\r\n        {\r\n          label: '内地'\r\n        },\r\n        {\r\n          label: '港台'\r\n        },\r\n        {\r\n          label: '欧美'\r\n        },\r\n        {\r\n          label: '日本'\r\n        },\r\n        {\r\n          label: '韩国'\r\n        }\r\n      ],\r\n      classify: '全部',\r\n      classifys: [\r\n        {\r\n          label: '全部'\r\n        },\r\n        {\r\n          label: '官方版'\r\n        },\r\n        {\r\n          label: '原生'\r\n        },\r\n        {\r\n          label: '现场版'\r\n        },\r\n        {\r\n          label: '网易出品'\r\n        }\r\n      ],\r\n      sort: '上升最快',\r\n      sortList: [\r\n        {\r\n          value: '上升最快',\r\n          label: '上升'\r\n        },\r\n        {\r\n          value: '最热',\r\n          label: '最热'\r\n        },\r\n        {\r\n          value: '最新',\r\n          label: '最新'\r\n        }\r\n      ],\r\n      params: {\r\n        type: '全部',\r\n        area: '全部',\r\n        order: '上升最快',\r\n        limit: 20,\r\n        offset: 0\r\n      },\r\n      mvlist: [],\r\n      total: 0,\r\n      currentPage: 0\r\n    }\r\n  },\r\n  created() {\r\n    this.allMv()\r\n  },\r\n  methods: {\r\n    allMv() {\r\n      allMv(this.params).then(res => {\r\n        this.mvlist = this.mvlist.concat(this.filer(res.data.data)) \r\n        if (res.data.hasMore) {\r\n          this.loadStatus = true\r\n          this.params.offset += this.params.limit\r\n        } else {\r\n          this.loadStatus = false\r\n        }\r\n        this.isLoading=false\r\n      })\r\n    },\r\n    shooseType(type, val) {\r\n      console.log(type, val)\r\n      console.log(this.params)\r\n      if (type == 'area') {\r\n        this.area = val\r\n        this.params.area = val\r\n      } else if (type == 'classify') {\r\n        this.classify = val\r\n        this.params.type = val\r\n      } else if (type == 'sort') {\r\n        this.sort = val\r\n        this.params.order = val\r\n      }\r\n\r\n      this.allMv()\r\n    },\r\n    filer(data) {\r\n      let arr = []\r\n      data.forEach(item => {\r\n        arr.push(new videoInfo(item))\r\n      })\r\n      return arr\r\n    },\r\n    // 加载更多\r\n    load() {\r\n      if (this.loadStatus) {\r\n        setTimeout(() => {\r\n          this.allMv()\r\n        }, 1000)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.mv {\r\n  // height: 100vh;\r\n  .header {\r\n    margin: 10px 0;\r\n    .area,\r\n    .sort,\r\n    .classify {\r\n      font-weight: 600;\r\n      margin: 20px 15px 20px 0;\r\n      line-height: 30px;\r\n      display: flex;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      li {\r\n        width: 70px;\r\n        border-radius: 20px;\r\n      }\r\n      li:hover {\r\n        color: #f78913;\r\n      }\r\n    }\r\n\r\n    .active {\r\n      background-color: #fa2;\r\n      color: #fff;\r\n    }\r\n  }\r\n  .asd {\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mv.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mv.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mv.vue?vue&type=template&id=0bdfce52&scoped=true&\"\nimport script from \"./mv.vue?vue&type=script&lang=js&\"\nexport * from \"./mv.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mv.vue?vue&type=style&index=0&id=0bdfce52&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bdfce52\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}