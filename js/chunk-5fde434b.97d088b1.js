(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fde434b"],{"1b71":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:" comments-list"},[e("h2",{staticClass:"title"},[t._v(t._s(t.title))]),t._l(t.commentsList,(function(n){return e("div",{key:n.commentId,staticClass:"content"},[e("div",{staticClass:"user"},[e("img",{attrs:{src:n.user.avatarUrl,title:n.user.nickname}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"top"},[e("div",{staticClass:"user-info"},[e("span",[t._v(t._s(n.user.nickname))]),e("span",{staticClass:"time"},[t._v(t._s(t.utils.formTime(n.time)))])]),e("div",{staticClass:"resources"},[e("p",{staticClass:" iconfont icon-zanpress count",class:n.liked?t.active:"",on:{click:function(e){return t.praise(n.commentId,n.liked)}}},[e("span",[t._v(" "+t._s(n.likedCount))])]),e("i",[t._v("|")]),e("span",{staticClass:" iconfont icon-xinxi",on:{click:function(e){return t.commentHandle(n.commentId)}}})])]),e("div",{staticClass:"container"},[e("div",{staticClass:"comments"},[t._v(t._s(n.content))]),t._l(n.beReplied,(function(n){return e("div",{key:n.beRepliedCommentId,staticClass:"be-replied"},[e("span",[t._v("@ "+t._s(n.user.nickname)+" ")]),t._v(" : "+t._s(n.content)+" ")])}))],2),t.currentCommentId==n.commentId?e("comment-board",{attrs:{currentCommentId:t.currentCommentId},on:{commentSubmit:t.commentSubmit,cancelHandle:t.cancelHandle}}):t._e()],1)])}))],2)},i=[],a=e("975e"),c={components:{commentBoard:a["a"]},props:["commentsList","title","currentCommentId"],methods:{commentHandle:function(t){this.$emit("commentHandle",t)},cancelHandle:function(){this.$emit("cancelHandle")},commentSubmit:function(t){this.$emit("commentSubmit",t)},praise:function(t,n){this.$emit("praise",t,n)}}},o=c,m=(e("65e7"),e("2877")),r=Object(m["a"])(o,s,i,!1,null,"38212bdf",null);n["a"]=r.exports},"23cf":function(t,n,e){},"24e4":function(t,n,e){"use strict";var s=e("313c"),i=e.n(s);i.a},"313c":function(t,n,e){},"3ebe":function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"limit"},[e("div",{staticClass:"detail "},[e("div",{staticClass:"left"},[e("div",{staticClass:"video "},[e("video",{attrs:{src:t.url,autoplay:"",controls:"controls",controlslist:"nodownload"}})]),e("h3",{staticClass:"title"},[t._v(t._s(t.detail.briefDesc))]),e("div",{staticClass:"tag"},t._l(t.detail.videoGroup,(function(n){return e("span",{key:n.id,staticClass:"item"},[t._v(t._s(n.name))])})),0),e("div",{staticClass:"date"},[e("span",[t._v("发布 ："+t._s(t.detail.publishTime))]),e("span",[t._v("播放次数 : "+t._s(t.detail.playCount))])]),e("div",{staticClass:"resource"},[e("span",{staticClass:" iconfont icon-zan"},[t._v(" "+t._s(t.mvInfo.likedCount))]),e("span",{staticClass:"iconfont icon-shoucang"},[t._v(" "+t._s(t.detail.subCount))]),e("span",{staticClass:"iconfont icon-fenxiang"},[t._v(" "+t._s(t.mvInfo.shareCount))])]),e("div",{staticClass:"comments"},[e("div",{staticClass:"title"},[e("span",{staticClass:"iconfont icon-zu"}),e("span",{staticClass:"text"},[t._v(" Comments")]),t._v(" | "),e("span",{staticClass:"text"},[t._v(" "+t._s(t.mvInfo.commentCount)+" 评论")])]),t.currentCommentId?t._e():e("comment-board",{on:{commentSubmit:t.commentSubmit}}),t.hotComments.length>0?e("comment-list",{attrs:{title:"精彩评论",currentCommentId:t.currentCommentId,commentsList:t.hotComments},on:{cancelHandle:t.cancelHandle,commentHandle:t.commentHandle}}):t._e(),t.comments.length>0?e("comment-list",{attrs:{title:"最新评论",currentCommentId:t.currentCommentId,commentsList:t.comments},on:{cancelHandle:t.cancelHandle,commentHandle:t.commentHandle}}):t._e(),e("el-pagination",{staticClass:"page",attrs:{"hide-on-single-page":"","current-page":t.currentPage,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handlePage}})],1)]),e("div",{staticClass:"right"},[e("div",{staticClass:"introduce"},[e("div",{staticClass:"title"},[t._v("视频简介")]),t.detail.desc?e("div",[t._v(t._s(t.detail.desc))]):e("div",[t._v("视频暂无简介")])]),e("div",{staticClass:"related"},[e("div",{staticClass:"title"},[t._v("相关视频")]),e("div",{attrs:{id:"video"}},t._l(t.mvs,(function(n){return e("div",{key:n.id,staticClass:"item",on:{click:function(e){return t.pushDetail(n.id)}}},[e("div",{staticClass:"header"},[e("img",{staticClass:"img",attrs:{src:n.cover,alt:""}}),e("i",{staticClass:"icon el-icon-video-camera"},[e("span",[t._v(t._s(n.playCount))])]),e("div",{staticClass:"time"},[e("span",[t._v(t._s(t._f("dateFormat")(n.duration,"MM:SS")))])]),e("i",{staticClass:"contentIcon el-icon-video-camera"})]),e("div",{staticClass:"titlename ellipsis"},[t._v(t._s(n.name))]),e("div",{staticClass:"box"},t._l(n.artists,(function(n){return e("div",{key:n.id,staticClass:"creator"},[t._v(t._s(n.name))])})),0)])})),0)])])])])},i=[],a=(e("a9e3"),e("975e")),c=e("1b71"),o=e("642f"),m={components:{commentBoard:a["a"],commentList:c["a"]},data:function(){return{id:"",offset:0,limit:20,url:"",detail:{},mvInfo:{},currentCommentId:"",mvs:{},hotComments:[],comments:[],currentPage:0,total:0}},created:function(){var t=this;this.id=Number(this.$route.query.id),Object(o["e"])(this.id).then((function(n){t.url=n.data.data.url})),Object(o["c"])(this.id).then((function(n){t.detail=n.data.data})),Object(o["d"])(this.id).then((function(n){t.mvInfo=n.data})),Object(o["g"])(this.id).then((function(n){t.mvs=n.data.mvs})),this.commentMv()},methods:{commentMv:function(){var t=this;Object(o["b"])(this.id,this.limit,this.offset).then((function(n){t.total=n.data.total,t.hotComments=n.data.hotComments||[],t.comments=n.data.comments||[],console.log(n)}))},pushDetail:function(t){this.$router.push({path:"/mvDetail",query:{id:t}}),window.location.reload()},commentHandle:function(t){this.currentCommentId=t},cancelHandle:function(){this.currentCommentId=""},handlePage:function(t){this.currentCommentId=t,this.offset=(t-1)*this.limit,this.commentMv()},commentSubmit:function(t){(new Date).getTime();var n={type:1,id:this.id,content:t};""==this.currentCommentId?n.t=1:(n.t=2,n.commentId=this.currentCommentId),console.log(n),Object(o["f"])(n).then((function(t){console.log(t)}))}}},r=m,l=(e("24e4"),e("2877")),u=Object(l["a"])(r,s,i,!1,null,"a85571c6",null);n["default"]=u.exports},"5c25":function(t,n,e){"use strict";var s=e("7041"),i=e.n(s);i.a},"642f":function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"e",(function(){return c})),e.d(n,"d",(function(){return o})),e.d(n,"g",(function(){return m})),e.d(n,"b",(function(){return r})),e.d(n,"f",(function(){return l}));var s=e("f350");function i(t){return Object(s["a"])({url:"/mv/all",params:{area:t.area,type:t.type,order:t.order,limit:t.limit,offset:t.offset}})}function a(t){return Object(s["a"])({url:"/mv/detail",params:{mvid:t}})}function c(t){return Object(s["a"])({url:"/mv/url",params:{id:t}})}function o(t){return Object(s["a"])({url:"/mv/detail/info",params:{mvid:t}})}function m(t){return Object(s["a"])({url:"/simi/mv",params:{mvid:t}})}function r(t,n,e){return Object(s["a"])({url:"/comment/mv",params:{id:t,limit:n,offset:e}})}function l(t){return Object(s["a"])({url:"/comment",params:{t:t.t,type:t.type,id:t.id,content:t.content,commentId:t.commentId}})}},"65e7":function(t,n,e){"use strict";var s=e("23cf"),i=e.n(s);i.a},7041:function(t,n,e){},"975e":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"comment-board"},[e("div",{staticClass:"user"},[e("div",[e("span",{staticClass:" iconfont icon-gerenzhongxin"}),e("span",{staticClass:"text"},[t._v(t._s(t.user.nickname)+", 您好")])]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.currentCommentId,expression:"currentCommentId"}],staticClass:"btn",on:{click:t.cancelHandle}},[t._v("取消回复")])]),e("div",{staticClass:"board"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.user.avatarUrl,title:t.user.nickname}})]),e("div",{staticClass:"mess"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],attrs:{placeholder:"别愣着，写啊！"},domProps:{value:t.commentContent},on:{input:function(n){n.target.composing||(t.commentContent=n.target.value)}}})])]),e("div",{staticClass:"sub"},[e("button",{staticClass:"btn",on:{click:t.commentSubmit}},[t._v("评论")])])])},i=[],a=(e("498a"),e("5530")),c=e("2f62"),o={data:function(){return{commentContent:""}},computed:Object(a["a"])({},Object(c["c"])(["loginState","userInfo"])),props:["currentCommentId"],created:function(){this.user=JSON.parse(sessionStorage.getItem("userInfo"))||this.userInfo},methods:{cancelHandle:function(){this.$emit("cancelHandle")},commentSubmit:function(){0!==this.commentContent.trim().length?this.$emit("commentSubmit",this.commentContent):this.$message.error("喂喂，写点东西啊")}}},m=o,r=(e("5c25"),e("2877")),l=Object(r["a"])(m,s,i,!1,null,"7478988f",null);n["a"]=l.exports}}]);
//# sourceMappingURL=chunk-5fde434b.97d088b1.js.map