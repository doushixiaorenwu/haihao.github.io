{"version":3,"sources":["webpack:///./src/components/common/commentList/commentList.vue?9cc7","webpack:///src/components/common/commentList/commentList.vue","webpack:///./src/components/common/commentList/commentList.vue?555b","webpack:///./src/components/common/commentList/commentList.vue?2169","webpack:///./src/views/mv/detail/mvDetail.vue?3735","webpack:///./src/views/mv/detail/mvDetail.vue?d452","webpack:///src/views/mv/detail/mvDetail.vue","webpack:///./src/views/mv/detail/mvDetail.vue?688f","webpack:///./src/views/mv/detail/mvDetail.vue?8609","webpack:///./src/components/common/commentBoard/commentBoard.vue?c599","webpack:///./src/network/mv.js","webpack:///./src/components/common/commentList/commentList.vue?50a9","webpack:///./src/components/common/commentBoard/commentBoard.vue?4f40","webpack:///src/components/common/commentBoard/commentBoard.vue","webpack:///./src/components/common/commentBoard/commentBoard.vue?6e9b","webpack:///./src/components/common/commentBoard/commentBoard.vue?917d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","title","_l","item","key","commentId","attrs","user","avatarUrl","nickname","utils","formTime","time","class","liked","active","on","$event","praise","likedCount","commentHandle","content","item1","beRepliedCommentId","currentCommentId","commentSubmit","cancelHandle","_e","staticRenderFns","components","commentBoard","props","methods","$emit","id","data","component","url","detail","briefDesc","name","publishTime","playCount","mvInfo","subCount","shareCount","commentCount","hotComments","length","comments","currentPage","total","handlePage","desc","pushDetail","cover","_f","duration","commentList","offset","limit","mvs","created","Number","$route","query","$router","push","path","window","location","reload","index","type","params","t","console","log","res","allMv","axios","area","order","mvDetail","mvid","mvUrl","simiMv","commentMv","sendComment","directives","rawName","value","expression","domProps","target","composing","commentContent","computed","JSON","parse","sessionStorage","getItem","userInfo","trim","$message","error"],"mappings":"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","file":"js/chunk-5fde434b.97d088b1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\" comments-list\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_vm._l((_vm.commentsList),function(item){return _c('div',{key:item.commentId,staticClass:\"content\"},[_c('div',{staticClass:\"user\"},[_c('img',{attrs:{\"src\":item.user.avatarUrl,\"title\":item.user.nickname}})]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"user-info\"},[_c('span',[_vm._v(_vm._s(item.user.nickname))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.utils.formTime(item.time)))])]),_c('div',{staticClass:\"resources\"},[_c('p',{staticClass:\" iconfont icon-zanpress count\",class:item.liked ? _vm.active : '',on:{\"click\":function($event){return _vm.praise(item.commentId, item.liked)}}},[_c('span',[_vm._v(\" \"+_vm._s(item.likedCount))])]),_c('i',[_vm._v(\"|\")]),_c('span',{staticClass:\" iconfont icon-xinxi\",on:{\"click\":function($event){return _vm.commentHandle(item.commentId)}}})])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"comments\"},[_vm._v(_vm._s(item.content))]),_vm._l((item.beReplied),function(item1){return _c('div',{key:item1.beRepliedCommentId,staticClass:\"be-replied\"},[_c('span',[_vm._v(\"@ \"+_vm._s(item1.user.nickname)+\" \")]),_vm._v(\" : \"+_vm._s(item1.content)+\" \")])})],2),(_vm.currentCommentId == item.commentId)?_c('comment-board',{attrs:{\"currentCommentId\":_vm.currentCommentId},on:{\"commentSubmit\":_vm.commentSubmit,\"cancelHandle\":_vm.cancelHandle}}):_vm._e()],1)])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\" comments-list\">\r\n    <h2 class=\"title\">{{ title }}</h2>\r\n    <div class=\"content\" v-for=\"item in commentsList\" :key=\"item.commentId\">\r\n      <div class=\"user\">\r\n        <img :src=\"item.user.avatarUrl\" :title=\"item.user.nickname\" />\r\n      </div>\r\n      <div class=\"info\">\r\n        <div class=\"top\">\r\n          <div class=\"user-info\">\r\n            <span>{{ item.user.nickname }}</span>\r\n            <span class=\"time\">{{ utils.formTime(item.time) }}</span>\r\n          </div>\r\n          <div class=\"resources\">\r\n            <p class=\" iconfont icon-zanpress count\" @click=\"praise(item.commentId, item.liked)\" :class=\"item.liked ? active : ''\">\r\n              <span> {{ item.likedCount }}</span>\r\n            </p>\r\n            <i>|</i>\r\n            <span class=\" iconfont icon-xinxi\" @click=\"commentHandle(item.commentId)\"></span>\r\n          </div>\r\n        </div>\r\n        <div class=\"container\">\r\n          <div class=\"comments\">{{ item.content }}</div>\r\n          <div class=\"be-replied\" v-for=\"item1 in item.beReplied\" :key=\"item1.beRepliedCommentId\">\r\n            <span>@ {{ item1.user.nickname }} </span> : {{ item1.content }}\r\n          </div>\r\n        </div>\r\n        <comment-board v-if=\"currentCommentId == item.commentId\" :currentCommentId=\"currentCommentId\" @commentSubmit=\"commentSubmit\" @cancelHandle=\"cancelHandle\"></comment-board>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commentBoard from '@/components/common/commentBoard/commentBoard'\r\nexport default {\r\n  components: {\r\n    commentBoard\r\n  },\r\n  props: ['commentsList', 'title', 'currentCommentId'],\r\n\r\n  methods: {\r\n    // 评论\r\n    commentHandle(id) {\r\n      this.$emit('commentHandle', id)\r\n    },\r\n    cancelHandle() {\r\n      this.$emit('cancelHandle')\r\n    },\r\n    commentSubmit(data) {\r\n      this.$emit('commentSubmit', data)\r\n    },\r\n    // 点赞\r\n    praise(id,like) {\r\n      this.$emit('praise',id,like)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.comments-list {\r\n  margin-top: 30px;\r\n  .title {\r\n    font-size: 20px;\r\n  }\r\n  .content {\r\n    display: flex;\r\n    margin: 20px 0;\r\n    .user {\r\n      img {\r\n        width: 50px;\r\n        height: 50px;\r\n        border-radius: 50%;\r\n      }\r\n    }\r\n    .info {\r\n      margin-left: 15px;\r\n      width: 100%;\r\n\r\n      .top {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        .user-info {\r\n          font-weight: 700;\r\n          font-size: 15px;\r\n          .time {\r\n            font-weight: 400;\r\n\r\n            margin-left: 10px;\r\n            color: #a5a5c1;\r\n            font-size: 12px;\r\n          }\r\n        }\r\n        .resources {\r\n          display: flex;\r\n          .active{\r\n            color: red;\r\n          }\r\n          .count {\r\n            margin-right: 5px;\r\n            span {\r\n              font-size: 10px;\r\n            }\r\n          }\r\n          i {\r\n            margin: 0 7px;\r\n            color: #999;\r\n          }\r\n        }\r\n      }\r\n      .container {\r\n        margin-top: 15px;\r\n        padding: 10px;\r\n        background-color: #f5f5f5;\r\n        font-size: 13px;\r\n        border-radius: 8px;\r\n        .be-replied {\r\n          margin-top: 10px;\r\n          background-color: #fff;\r\n          padding: 10px;\r\n          font-size: 13px;\r\n          border-radius: 8px;\r\n          span {\r\n            color: red;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentList.vue?vue&type=template&id=38212bdf&scoped=true&\"\nimport script from \"./commentList.vue?vue&type=script&lang=js&\"\nexport * from \"./commentList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentList.vue?vue&type=style&index=0&id=38212bdf&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38212bdf\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mvDetail.vue?vue&type=style&index=0&id=a85571c6&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mvDetail.vue?vue&type=style&index=0&id=a85571c6&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"limit\"},[_c('div',{staticClass:\"detail \"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"video \"},[_c('video',{attrs:{\"src\":_vm.url,\"autoplay\":\"\",\"controls\":\"controls\",\"controlslist\":\"nodownload\"}})]),_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.detail.briefDesc))]),_c('div',{staticClass:\"tag\"},_vm._l((_vm.detail.videoGroup),function(item){return _c('span',{key:item.id,staticClass:\"item\"},[_vm._v(_vm._s(item.name))])}),0),_c('div',{staticClass:\"date\"},[_c('span',[_vm._v(\"发布 ：\"+_vm._s(_vm.detail.publishTime))]),_c('span',[_vm._v(\"播放次数 : \"+_vm._s(_vm.detail.playCount))])]),_c('div',{staticClass:\"resource\"},[_c('span',{staticClass:\" iconfont icon-zan\"},[_vm._v(\" \"+_vm._s(_vm.mvInfo.likedCount))]),_c('span',{staticClass:\"iconfont icon-shoucang\"},[_vm._v(\" \"+_vm._s(_vm.detail.subCount))]),_c('span',{staticClass:\"iconfont icon-fenxiang\"},[_vm._v(\" \"+_vm._s(_vm.mvInfo.shareCount))])]),_c('div',{staticClass:\"comments\"},[_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"iconfont icon-zu\"}),_c('span',{staticClass:\"text\"},[_vm._v(\" Comments\")]),_vm._v(\" | \"),_c('span',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(_vm.mvInfo.commentCount)+\" 评论\")])]),(!_vm.currentCommentId)?_c('comment-board',{on:{\"commentSubmit\":_vm.commentSubmit}}):_vm._e(),(_vm.hotComments.length > 0)?_c('comment-list',{attrs:{\"title\":'精彩评论',\"currentCommentId\":_vm.currentCommentId,\"commentsList\":_vm.hotComments},on:{\"cancelHandle\":_vm.cancelHandle,\"commentHandle\":_vm.commentHandle}}):_vm._e(),(_vm.comments.length > 0)?_c('comment-list',{attrs:{\"title\":'最新评论',\"currentCommentId\":_vm.currentCommentId,\"commentsList\":_vm.comments},on:{\"cancelHandle\":_vm.cancelHandle,\"commentHandle\":_vm.commentHandle}}):_vm._e(),_c('el-pagination',{staticClass:\"page\",attrs:{\"hide-on-single-page\":\"\",\"current-page\":_vm.currentPage,\"layout\":\"prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.handlePage}})],1)]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"introduce\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"视频简介\")]),(_vm.detail.desc)?_c('div',[_vm._v(_vm._s(_vm.detail.desc))]):_c('div',[_vm._v(\"视频暂无简介\")])]),_c('div',{staticClass:\"related\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"相关视频\")]),_c('div',{attrs:{\"id\":\"video\"}},_vm._l((_vm.mvs),function(item){return _c('div',{key:item.id,staticClass:\"item\",on:{\"click\":function($event){return _vm.pushDetail(item.id)}}},[_c('div',{staticClass:\"header\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":item.cover,\"alt\":\"\"}}),_c('i',{staticClass:\"icon el-icon-video-camera\"},[_c('span',[_vm._v(_vm._s(item.playCount))])]),_c('div',{staticClass:\"time\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(item.duration,'MM:SS')))])]),_c('i',{staticClass:\"contentIcon el-icon-video-camera\"})]),_c('div',{staticClass:\"titlename ellipsis\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"box\"},_vm._l((item.artists),function(item1){return _c('div',{key:item1.id,staticClass:\"creator\"},[_vm._v(_vm._s(item1.name))])}),0)])}),0)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"limit\">\r\n    <div class=\"detail \">\r\n      <div class=\"left\">\r\n        <div class=\"video \">\r\n          <video :src=\"url\" autoplay controls=\"controls\" controlslist=\"nodownload\"></video>\r\n        </div>\r\n        <h3 class=\"title\">{{ detail.briefDesc }}</h3>\r\n        <div class=\"tag\">\r\n          <span class=\"item\" v-for=\"item in detail.videoGroup\" :key=\"item.id\">{{ item.name }}</span>\r\n        </div>\r\n        <div class=\"date\">\r\n          <span>发布 ：{{ detail.publishTime }}</span>\r\n          <span>播放次数 : {{ detail.playCount }}</span>\r\n        </div>\r\n        <div class=\"resource\">\r\n          <span class=\" iconfont icon-zan\"> {{ mvInfo.likedCount }}</span>\r\n          <span class=\"iconfont icon-shoucang\"> {{ detail.subCount }}</span>\r\n          <span class=\"iconfont icon-fenxiang\"> {{ mvInfo.shareCount }}</span>\r\n        </div>\r\n        <div class=\"comments\">\r\n          <div class=\"title\">\r\n            <span class=\"iconfont icon-zu\"></span>\r\n            <span class=\"text\"> Comments</span> |\r\n            <span class=\"text\"> {{ mvInfo.commentCount }} 评论</span>\r\n          </div>\r\n          <comment-board v-if=\"!currentCommentId\" @commentSubmit='commentSubmit'></comment-board>\r\n          <comment-list   v-if=\"hotComments.length > 0\" :title=\"'精彩评论'\" @cancelHandle=\"cancelHandle\" :currentCommentId=\"currentCommentId\" :commentsList=\"hotComments\" @commentHandle=\"commentHandle\"></comment-list>\r\n          <comment-list   v-if=\"comments.length > 0\" :title=\"'最新评论'\" @cancelHandle=\"cancelHandle\" :currentCommentId=\"currentCommentId\" :commentsList=\"comments\" @commentHandle=\"commentHandle\"></comment-list>\r\n          <el-pagination @current-change=\"handlePage\" class=\"page\" hide-on-single-page :current-page=\"currentPage\" layout=\"prev, pager, next\" :total=\"total\"> </el-pagination>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <div class=\"introduce\">\r\n          <div class=\"title\">视频简介</div>\r\n          <div v-if=\"detail.desc\">{{ detail.desc }}</div>\r\n          <div v-else>视频暂无简介</div>\r\n        </div>\r\n        <div class=\"related\">\r\n          <div class=\"title\">相关视频</div>\r\n          <div id=\"video\">\r\n            <div class=\"item\" v-for=\"item in mvs\" :key=\"item.id\" @click=\"pushDetail(item.id)\">\r\n              <div class=\"header\">\r\n                <img class=\"img\" :src=\"item.cover\" alt=\"\" />\r\n                <i class=\"icon el-icon-video-camera\">\r\n                  <span>{{ item.playCount }}</span></i\r\n                >\r\n                <div class=\"time\">\r\n                  <span>{{ item.duration | dateFormat('MM:SS') }}</span>\r\n                </div>\r\n                <i class=\"contentIcon el-icon-video-camera\"></i>\r\n              </div>\r\n              <div class=\"titlename ellipsis\">{{ item.name }}</div>\r\n              <div class=\"box\">\r\n                <div class=\"creator\" v-for=\"item1 in item.artists\" :key=\"item1.id\">{{ item1.name }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commentBoard from '@/components/common/commentBoard/commentBoard'\r\nimport commentList from '@/components/common/commentList/commentList'\r\nimport { mvDetail, mvUrl, mvInfo, simiMv, commentMv,sendComment } from '@/network/mv'\r\n\r\nexport default {\r\n  components: {\r\n    commentBoard,\r\n    commentList\r\n  },\r\n  data() {\r\n    return {\r\n      id: '',\r\n      offset: 0,\r\n      limit: 20,\r\n      url: '',\r\n      detail: {},\r\n      mvInfo: {},\r\n      currentCommentId: '',\r\n      mvs: {},\r\n      hotComments: [],\r\n      comments: [],\r\n      currentPage: 0,\r\n      total: 0\r\n    }\r\n  },\r\n  created() {\r\n    this.id = Number(this.$route.query.id)\r\n    mvUrl(this.id).then(res => {\r\n      this.url = res.data.data.url\r\n    })\r\n    mvDetail(this.id).then(res => {\r\n      this.detail = res.data.data\r\n    })\r\n    mvInfo(this.id).then(res => {\r\n      this.mvInfo = res.data\r\n    })\r\n    // 相似\r\n    simiMv(this.id).then(res => {\r\n      this.mvs = res.data.mvs\r\n    })\r\n   this.commentMv()\r\n  },\r\n  methods: {\r\n     // 获得评论\r\n     commentMv(){\r\n          commentMv(this.id, this.limit, this.offset).then(res => {\r\n      this.total = res.data.total\r\n      this.hotComments = res.data.hotComments || []\r\n      this.comments = res.data.comments || []\r\n      console.log(res)\r\n    })\r\n     },\r\n \r\n    pushDetail(id) {\r\n      this.$router.push({\r\n        path: '/mvDetail',\r\n        query: {\r\n          id\r\n        }\r\n      })\r\n      window.location.reload()\r\n    },\r\n    commentHandle(id) {\r\n      this.currentCommentId = id\r\n    },\r\n\r\n    cancelHandle() {\r\n      this.currentCommentId = ''\r\n    },\r\n    handlePage(index) {\r\n      this.currentCommentId = index\r\n      this.offset = (index - 1) * this.limit\r\n       this.commentMv()\r\n    },\r\n     commentSubmit(content) {\r\n      let timestamp = new Date().getTime()\r\n      let params = {\r\n        type: 1,\r\n        id: this.id,\r\n        content: content\r\n        // timestamp\r\n      }\r\n      if (this.currentCommentId == '') {\r\n        params.t = 1\r\n      } else {\r\n        params.t = 2\r\n        params.commentId = this.currentCommentId\r\n      }\r\n      console.log(params);\r\n      sendComment(params).then(res => {\r\n        console.log(res)\r\n      })\r\n      // this.$message.error('301状态码')\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.detail {\r\n  margin-top: 20px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .left {\r\n    width: 70%;\r\n    background-color: #fff;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n    .video {\r\n      video {\r\n        width: 100%;\r\n        height: 100%;\r\n        border-radius: 5px;\r\n      }\r\n    }\r\n    .title {\r\n      margin-top: 10px;\r\n      font-weight: 500;\r\n    }\r\n    .tag {\r\n      margin-top: 10px;\r\n      font-size: 14px;\r\n      color: red;\r\n      .item {\r\n        margin-right: 10px;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    .date {\r\n      margin-top: 10px;\r\n      font-size: 12px;\r\n      color: #999;\r\n      span {\r\n        margin-right: 20px;\r\n      }\r\n    }\r\n    .resource {\r\n      margin-top: 15px;\r\n      span {\r\n        padding: 5px 10px;\r\n        background-color: #ddd;\r\n        border-radius: 15px;\r\n        margin-right: 14px;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n    .comments {\r\n      margin-top: 30px;\r\n      .title {\r\n        line-height: 35px;\r\n        border-bottom: 1px solid #f1f1f1;\r\n        .text {\r\n          font-size: 14px;\r\n        }\r\n        span {\r\n          margin-right: 10px;\r\n          font-size: 16px;\r\n        }\r\n      }\r\n      .page {\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n  .right {\r\n    width: 28%;\r\n    .introduce {\r\n      width: 100%;\r\n      background-color: #fff;\r\n      border-radius: 10px;\r\n      padding: 15px;\r\n      margin-bottom: 50px;\r\n      font-size: 14px;\r\n      .title {\r\n        font-size: 15px;\r\n        padding: 5px 15px;\r\n        font-weight: 600;\r\n        border-left: 3px solid pink;\r\n      }\r\n      div {\r\n        margin-top: 15px;\r\n        padding-left: 15px;\r\n        line-height: 20px;\r\n        font-weight: 500;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n    .related {\r\n      width: 100%;\r\n      background-color: #fff;\r\n      border-radius: 10px;\r\n      padding: 15px;\r\n      margin-bottom: 50px;\r\n      font-size: 14px;\r\n      .title {\r\n        font-size: 15px;\r\n        padding: 5px 15px;\r\n        font-weight: 600;\r\n        border-left: 3px solid pink;\r\n      }\r\n      #video {\r\n        width: 100%;\r\n        height: 100%;\r\n        margin-top: 20px;\r\n        .item {\r\n          height: 100%;\r\n          width: 100%;\r\n          padding: 0 10px 20px;\r\n          .header:hover {\r\n            .contentIcon {\r\n              display: block;\r\n            }\r\n          }\r\n          .header {\r\n            position: relative;\r\n            color: #fff;\r\n            font-size: 14px;\r\n            .img {\r\n              width: 100%;\r\n            }\r\n            .icon {\r\n              height: 20px;\r\n              width: 25%;\r\n              line-height: 20px;\r\n              position: absolute;\r\n              top: 0;\r\n              right: 0;\r\n              background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4));\r\n              font-size: 14px;\r\n              span {\r\n                font-size: 12px;\r\n                float: right;\r\n                margin-right: 8px;\r\n              }\r\n            }\r\n            .time {\r\n              height: 20px;\r\n              width: 100%;\r\n              line-height: 20px;\r\n              position: absolute;\r\n              bottom: 4px;\r\n              right: 0;\r\n              background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4));\r\n\r\n              span {\r\n                float: right;\r\n                margin-right: 8px;\r\n              }\r\n            }\r\n            .contentIcon {\r\n              position: absolute;\r\n              top: 50%;\r\n              left: 50%;\r\n              font-size: 30px;\r\n              color: #ec0801;\r\n              transform: translate(-50%, -50%);\r\n              display: none;\r\n            }\r\n          }\r\n          .titlename {\r\n            margin-top: 5px;\r\n            font-size: 14px;\r\n            font-weight: 700;\r\n          }\r\n          .box {\r\n            display: flex;\r\n\r\n            .creator {\r\n              font-size: 10px;\r\n              margin-top: 10px;\r\n              font-weight: 600;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mvDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mvDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mvDetail.vue?vue&type=template&id=a85571c6&scoped=true&\"\nimport script from \"./mvDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./mvDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mvDetail.vue?vue&type=style&index=0&id=a85571c6&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a85571c6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentBoard.vue?vue&type=style&index=0&id=7478988f&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentBoard.vue?vue&type=style&index=0&id=7478988f&scoped=true&lang=less&\"","import { axios } from './axios'\r\n// 全部mv\r\nexport function allMv(params) {\r\n  return axios({\r\n    url: '/mv/all',\r\n    params: {\r\n      area: params.area,\r\n      type: params.type,\r\n      order: params.order,\r\n      limit: params.limit,\r\n      offset: params.offset\r\n    }\r\n  })\r\n}\r\n// mv详情\r\nexport function mvDetail(mvid) {\r\n  return axios({\r\n    url: '/mv/detail',\r\n    params: { mvid }\r\n  })\r\n}\r\n// 播放地址\r\nexport function mvUrl(id) {\r\n  return axios({\r\n    url: '/mv/url',\r\n    params: { id }\r\n  })\r\n}\r\nexport function mvInfo(mvid) {\r\n  return axios({\r\n    url: '/mv/detail/info',\r\n    params: {\r\n      mvid\r\n    }\r\n  })\r\n}\r\n// 相似MV\r\nexport function simiMv(mvid) {\r\n  return axios({\r\n    url: '/simi/mv',\r\n    params: {\r\n      mvid\r\n    }\r\n  })\r\n}\r\n\r\n// MV评论\r\nexport function commentMv(id,limit,offset) {\r\n  return axios({\r\n    url: '/comment/mv',\r\n    params: {\r\n      id,\r\n      limit,\r\n      offset\r\n     \r\n    }\r\n  })\r\n}\r\nexport function sendComment(params){\r\n  return axios({\r\n    url: '/comment',\r\n    params: {\r\n      t: params.t,\r\n      type: params.type,\r\n      id: params.id,\r\n      content: params.content,\r\n      commentId: params.commentId\r\n    }\r\n  })\r\n}\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=style&index=0&id=38212bdf&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentList.vue?vue&type=style&index=0&id=38212bdf&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-board\"},[_c('div',{staticClass:\"user\"},[_c('div',[_c('span',{staticClass:\" iconfont icon-gerenzhongxin\"}),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.user.nickname)+\", 您好\")])]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentCommentId),expression:\"currentCommentId\"}],staticClass:\"btn\",on:{\"click\":_vm.cancelHandle}},[_vm._v(\"取消回复\")])]),_c('div',{staticClass:\"board\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.user.avatarUrl,\"title\":_vm.user.nickname}})]),_c('div',{staticClass:\"mess\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.commentContent),expression:\"commentContent\"}],attrs:{\"placeholder\":\"别愣着，写啊！\"},domProps:{\"value\":(_vm.commentContent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.commentContent=$event.target.value}}})])]),_c('div',{staticClass:\"sub\"},[_c('button',{staticClass:\"btn\",on:{\"click\":_vm.commentSubmit}},[_vm._v(\"评论\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-board\">\r\n    <div class=\"user\">\r\n      <div>\r\n        <span class=\" iconfont icon-gerenzhongxin\"></span>\r\n        <span class=\"text\">{{ user.nickname }}, 您好</span>\r\n      </div>\r\n      <button class=\"btn\" v-show=\"currentCommentId\" @click=\"cancelHandle\">取消回复</button>\r\n    </div>\r\n    <div class=\"board\">\r\n      <div class=\"avatar\">\r\n        <img :src=\"user.avatarUrl\" :title=\"user.nickname\" />\r\n      </div>\r\n      <div class=\"mess\">\r\n        <textarea v-model=\"commentContent\" placeholder=\"别愣着，写啊！\"></textarea>\r\n      </div>\r\n    </div>\r\n    <div class=\"sub\">\r\n      <button class=\"btn\" @click=\"commentSubmit\">评论</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n \r\n      commentContent: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['loginState', 'userInfo'])\r\n  },\r\n  props: ['currentCommentId'],\r\n  created() {\r\n    this.user = JSON.parse(sessionStorage.getItem('userInfo')) || this.userInfo\r\n  },\r\n  methods: {\r\n    // 取消评论\r\n    cancelHandle() {\r\n      this.$emit('cancelHandle')\r\n    },\r\n\r\n    // 评论提交\r\n    commentSubmit() {\r\n      if (this.commentContent.trim().length === 0) {\r\n        this.$message.error('喂喂，写点东西啊')\r\n        return\r\n      } else {\r\n        this.$emit('commentSubmit', this.commentContent)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.user {\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .btn {\r\n    padding: 7px;\r\n    font-size: 12px;\r\n    color: #d9dfff;\r\n    border: 1px #d9dfff solid;\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n    outline: none;\r\n  }\r\n  .text {\r\n    font-size: 14px;\r\n    margin-left: 10px;\r\n  }\r\n}\r\n.board {\r\n  display: flex;\r\n  margin-top: 20px;\r\n\r\n  .avatar {\r\n    img {\r\n      width: 50px;\r\n      height: 50px;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n  .mess {\r\n    flex: 1;\r\n    margin-left: 30px;\r\n    textarea {\r\n      width: 100%;\r\n      outline: none;\r\n      background: #f8f9ff;\r\n      resize: none;\r\n      padding: 6px 12px;\r\n      color: #666;\r\n      border: 1px solid #eaebff;\r\n      border-radius: 3px;\r\n      font-size: 13px;\r\n      height: 80px;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n}\r\n.sub {\r\n  height: 30px;\r\n  margin-top: 15px;\r\n  .btn {\r\n    color: #fff;\r\n    background: #ff416c;\r\n    border-radius: 3px;\r\n    border: none;\r\n    padding: 10px 30px;\r\n    outline: none;\r\n    float: right;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentBoard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentBoard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentBoard.vue?vue&type=template&id=7478988f&scoped=true&\"\nimport script from \"./commentBoard.vue?vue&type=script&lang=js&\"\nexport * from \"./commentBoard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentBoard.vue?vue&type=style&index=0&id=7478988f&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7478988f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}